{"version":3,"file":"atcb.min.js","sources":["atcb.js"],"names":["atcbVersion","atcb_init","console","log","let","atcButtons","document","querySelectorAll","length","atcButtonsInitialized","i","classList","contains","atcbConfig","schema","querySelector","innerHTML","JSON","parse","atcb_clean_schema_json","atcb_rewrite_config","atcb_check_required","atcb_date_calculation","atcb_validate","atcb_generate","Object","keys","forEach","key","charAt","point","tmpSplitStartDate","split","event","keyChanges","title","dateStart","dateEnd","timeStart","timeEnd","data","every","field","dateString","today","Date","todayString","getMonth","getDate","getFullYear","dateStringParts","replace","dateParts","newDate","setDate","parseInt","options","option","cleanOption","includes","dates","date","time","timeParts","getTime","button","buttonId","buttonTriggerWrapper","createElement","buttonTrigger","add","appendChild","optionsList","id","dataset","atcbtn","addEventListener","atcb_toggle","passive","atcb_open","bgOverlay","style","display","optionParts","optionItem","atcb_generate_ical","atcb_close_all","atcb_generate_google","atcb_generate_microsoft","atcb_generate_yahoo","remove","this","atcb_close","call","list","getElementById","url","formattedDate","atcb_generate_time","encodeURIComponent","window","open","focus","type","now","toISOString","timeslot","ics_lines","dlurl","btoa","join","c","charCodeAt","ActiveXObject","save","href","target","download","evt","MouseEvent","view","bubbles","cancelable","dispatchEvent","URL","webkitURL","revokeObjectURL","e","targetCal","startDate","endDate","start","end","allday","utcDate","toLocaleString","timeZone","tzDate","Intl","DateTimeFormat","resolvedOptions","offset","setTime","breakStart","breakEnd"],"mappings":"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"}